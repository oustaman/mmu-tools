<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MMU Clearing Reference Tool</title>
    <style>
        :root {
            --primary-color: #0066cc;
            --secondary-color: #004499;
            --accent-color: #ff6b35;
            --background-color: #ffffff;
            --surface-color: #f8f9fa;
            --text-color: #212529;
            --text-secondary: #6c757d;
            --border-color: #dee2e6;
            --success-color: #28a745;
            --warning-color: #ffc107;
            --danger-color: #dc3545;
            --focus-color: #0056b3;
            --sidebar-width: 280px;
            --font-size-base: 16px;
            --font-size-small: 14px;
            --font-size-large: 18px;
            --font-size-xl: 20px;
        }

        [data-theme="dark"] {
            --background-color: #1a1a1a;
            --surface-color: #2d2d2d;
            --text-color: #ffffff;
            --text-secondary: #b0b0b0;
            --border-color: #404040;
            --primary-color: #4da6ff;
            --secondary-color: #0066cc;
        }

        [data-font-size="small"] {
            --font-size-base: 14px;
            --font-size-small: 12px;
            --font-size-large: 16px;
            --font-size-xl: 18px;
        }

        [data-font-size="large"] {
            --font-size-base: 18px;
            --font-size-small: 16px;
            --font-size-large: 20px;
            --font-size-xl: 22px;
        }

        [data-font-size="xl"] {
            --font-size-base: 20px;
            --font-size-small: 18px;
            --font-size-large: 22px;
            --font-size-xl: 24px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            font-size: var(--font-size-base);
            line-height: 1.6;
            color: var(--text-color);
            background-color: var(--background-color);
            transition: all 0.3s ease;
        }

        .skip-link {
            position: absolute;
            top: -40px;
            left: 6px;
            background: var(--primary-color);
            color: white;
            padding: 8px;
            text-decoration: none;
            z-index: 1000;
            border-radius: 4px;
        }

        .skip-link:focus {
            top: 6px;
        }

        .accessibility-toolbar {
            background: var(--surface-color);
            border-bottom: 1px solid var(--border-color);
            padding: 0.5rem;
            display: flex;
            gap: 0.5rem;
            justify-content: flex-end;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .accessibility-toolbar button {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 0.5rem;
            border-radius: 4px;
            cursor: pointer;
            font-size: var(--font-size-small);
            transition: background-color 0.2s;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .accessibility-toolbar button:hover,
        .accessibility-toolbar button:focus {
            background: var(--secondary-color);
            outline: 2px solid var(--focus-color);
            outline-offset: 2px;
        }

        .accessibility-toolbar button.active {
            background: var(--accent-color);
        }

        .app-container {
            display: flex;
            min-height: calc(100vh - 60px);
        }

        .sidebar {
            width: var(--sidebar-width);
            background: var(--surface-color);
            border-right: 1px solid var(--border-color);
            overflow-y: auto;
            position: sticky;
            top: 60px;
            height: calc(100vh - 60px);
            transition: transform 0.3s ease;
        }

        .sidebar.collapsed {
            transform: translateX(-100%);
        }

        .mobile-header {
            display: none;
            background: var(--surface-color);
            border-bottom: 1px solid var(--border-color);
            padding: 1rem;
            align-items: center;
            gap: 1rem;
        }

        .burger-menu {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-color);
            padding: 0.5rem;
        }

        .search-container {
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .search-input {
            width: 100%;
            padding: 0.75rem;
            font-size: var(--font-size-base);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            background: var(--background-color);
            color: var(--text-color);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(0, 102, 204, 0.1);
        }

        .nav-menu {
            padding: 1rem 0;
        }

        .nav-item {
            display: block;
            padding: 0.75rem 1rem;
            color: var(--text-color);
            text-decoration: none;
            border: none;
            background: none;
            width: 100%;
            text-align: left;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: var(--font-size-small);
            border-radius: 6px;
            margin-bottom: 0.25rem;
        }

        .nav-item:hover,
        .nav-item:focus {
            background: var(--primary-color);
            color: white;
            outline: none;
        }

        .nav-item.active {
            background: var(--primary-color);
            color: white;
            border-right: 3px solid var(--accent-color);
        }

        .main-content {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
            max-width: calc(100vw - var(--sidebar-width));
        }

        .content-section {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .content-section.active {
            display: block;
        }

        .search-results {
            display: none;
        }

        .search-results.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .card {
            background: var(--surface-color);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .card h2 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            font-size: var(--font-size-xl);
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 0.5rem;
        }

        .main-notice {
            background: linear-gradient(135deg, #fef3c7, #fcd34d);
            border: 2px solid #f59e0b;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }

        .main-notice h1 {
            color: #92400e;
            font-size: 2rem;
            margin-bottom: 1rem;
        }

        .main-notice p {
            color: #78350f;
            font-size: var(--font-size-large);
            margin-bottom: 1rem;
        }

        .placeholder-notice {
            background: var(--surface-color);
            border: 2px dashed var(--border-color);
            border-radius: 8px;
            padding: 2rem;
            text-align: center;
            color: var(--text-secondary);
        }

        .placeholder-notice h3 {
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .placeholder-notice p {
            font-style: italic;
        }

        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        .demo-badge {
            background: var(--warning-color);
            color: #000;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: var(--font-size-small);
            font-weight: 600;
            margin-left: 0.5rem;
        }

        @media (max-width: 768px) {
            .sidebar {
                position: fixed;
                top: 0;
                left: 0;
                height: 100vh;
                z-index: 200;
                transform: translateX(-100%);
            }

            .sidebar.open {
                transform: translateX(0);
            }

            .mobile-header {
                display: flex;
            }

            .accessibility-toolbar {
                padding: 0.25rem;
                gap: 0.25rem;
            }

            .accessibility-toolbar button {
                width: 36px;
                height: 36px;
                font-size: 12px;
            }

            .main-content {
                max-width: 100vw;
                padding: 1rem;
            }

            .app-container {
                flex-direction: column;
                min-height: calc(100vh - 120px);
            }

            .main-notice h1 {
                font-size: 1.5rem;
            }

            .main-notice {
                padding: 1.5rem;
            }
        }

        .sidebar-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 199;
        }

        .sidebar-overlay.active {
            display: block;
        }

        @media (prefers-reduced-motion: reduce) {
            * {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <div class="accessibility-toolbar" role="toolbar" aria-label="Accessibility Options">
        <button id="dark-mode-toggle" type="button" aria-pressed="false" aria-label="Toggle dark mode">🌙</button>
        <button id="font-size-small" type="button" aria-pressed="false" aria-label="Small font size">A-</button>
        <button id="font-size-normal" type="button" aria-pressed="true" aria-label="Normal font size">A</button>
        <button id="font-size-large" type="button" aria-pressed="false" aria-label="Large font size">A+</button>
        <button id="font-size-xl" type="button" aria-pressed="false" aria-label="Extra large font size">A++</button>
        <button id="reset-settings" type="button" aria-label="Reset settings">↻</button>
    </div>

    <div class="mobile-header">
        <button class="burger-menu" id="mobile-menu-toggle" aria-label="Toggle navigation menu">☰</button>
        <h1>MMU Clearing Tool <span class="demo-badge">DEMO</span></h1>
    </div>

    <div class="sidebar-overlay" id="sidebar-overlay"></div>

    <div class="app-container">
        <nav class="sidebar" id="sidebar" role="navigation" aria-label="Main navigation">
            <div class="search-container">
                <label for="search" class="sr-only">Search the clearing guide</label>
                <input type="search" id="search" class="search-input" placeholder="Search functionality demo..." disabled>
            </div>

            <div class="nav-menu">
                <button class="nav-item active" data-section="notice">📢 Important Notice</button>
                <button class="nav-item" data-section="what-is-clearing">📋 What is Clearing</button>
                <button class="nav-item" data-section="key-terminology">🏷️ Key Terminology</button>
                <button class="nav-item" data-section="decision-tree">🌳 Decision Tree</button>
                <button class="nav-item" data-section="high-level-flow">⚡ High-level Flow</button>
                <button class="nav-item" data-section="call-checklist">✅ Call to Convert Checklist</button>
                <button class="nav-item" data-section="ucas-referral">🎯 UCAS Referral Rules</button>
                <button class="nav-item" data-section="applicant-scenarios">🎭 Applicant Scenarios</button>
                <button class="nav-item" data-section="advanced-entry">📋 Advanced Entry/Portfolio</button>
                <button class="nav-item" data-section="entry-requirements">📊 Entry Requirements (Sample)</button>
                <button class="nav-item" data-section="phone-capacity">📞 Phone Line Capacity</button>
                <button class="nav-item" data-section="phonetic-alphabet">🔤 Phonetic Alphabet</button>
                <button class="nav-item" data-section="timeline">📅 Timeline & Embargo</button>
                <button class="nav-item" data-section="quick-start">🚀 Quick-Start Checklist</button>
                <button class="nav-item" data-section="contacts">👥 Contacts</button>
                <button class="nav-item" data-section="useful-links">🔗 Useful Links</button>
            </div>
        </nav>

        <main class="main-content" id="main-content">
            <div id="notice" class="content-section active">
                <div class="main-notice">
                    <h1>🚧 Tool Under Development</h1>
                    <p><strong>This clearing reference tool is currently not available for 2025 clearing period.</strong></p>
                    <p>We discovered some errors in the information and unfortunately don't have time to review all the content before the clearing season begins.</p>
                    <p>We'd love to work on this next year, as this could be a great tool for all staff!</p>
                    <p><em>— MMU Clearing Team & Mike</em></p>
                </div>

                <div class="card">
                    <h2>What This Tool Was Designed For</h2>
                    <p>This interactive reference tool was being developed to provide MMU clearing staff with:</p>
                    <ul style="margin: 1rem 0; padding-left: 2rem;">
                        <li><strong>Quick Navigation</strong> - Instant access to any clearing procedure or reference table</li>
                        <li><strong>Universal Search</strong> - Find information across all sections instantly</li>
                        <li><strong>Decision Tree</strong> - Visual flowchart for handling different call scenarios</li>
                        <li><strong>Reference Tables</strong> - Entry requirements, phone capacity, contact information</li>
                        <li><strong>Accessibility Features</strong> - Dark mode, font sizing, keyboard navigation</li>
                        <li><strong>Mobile Responsive</strong> - Works on all devices with burger menu on mobile</li>
                    </ul>
                    <p>The framework is built and ready - we just need to verify all the clearing information for accuracy next year.</p>
                </div>
            </div>

            <div id="what-is-clearing" class="content-section">
                <div class="placeholder-notice">
                    <h3>📋 What is Clearing</h3>
                    <p>This section would contain an overview of the clearing process, definitions, and the main stages students go through.</p>
                </div>
            </div>

            <div id="key-terminology" class="content-section">
                <div class="placeholder-notice">
                    <h3>🏷️ Key Terminology</h3>
                    <p>This section would contain a reference table of important clearing terms like UF, CF, Clearing Hub, Call to Convert, etc.</p>
                </div>
            </div>

            <div id="decision-tree" class="content-section">
                <div class="placeholder-notice">
                    <h3>🌳 Decision Tree</h3>
                    <p>This section would contain a visual flowchart helping call handlers decide how to process different types of student inquiries.</p>
                </div>
            </div>

            <div id="high-level-flow" class="content-section">
                <div class="placeholder-notice">
                    <h3>⚡ High-level Flow</h3>
                    <p>This section would contain the step-by-step process from Results Day to Student Accepted, showing who does what and when.</p>
                </div>
            </div>

            <div id="call-checklist" class="content-section">
                <div class="placeholder-notice">
                    <h3>✅ Call to Convert Checklist</h3>
                    <p>This section would contain a detailed checklist for making "Call to Convert" calls to students with provisional offers.</p>
                </div>
            </div>

            <div id="ucas-referral" class="content-section">
                <div class="placeholder-notice">
                    <h3>🎯 UCAS Referral Rules</h3>
                    <p>This section would contain the rules for when and how students can refer themselves to MMU through UCAS clearing.</p>
                </div>
            </div>

            <div id="applicant-scenarios" class="content-section">
                <div class="placeholder-notice">
                    <h3>🎭 Applicant Scenarios</h3>
                    <p>This section would contain a comprehensive table of different applicant situations and the appropriate actions to take.</p>
                </div>
            </div>

            <div id="advanced-entry" class="content-section">
                <div class="placeholder-notice">
                    <h3>📋 Advanced Entry/Portfolio</h3>
                    <p>This section would contain procedures for handling advanced entry applications and portfolio reviews.</p>
                </div>
            </div>

            <div id="entry-requirements" class="content-section">
                <div class="placeholder-notice">
                    <h3>📊 Entry Requirements (Sample)</h3>
                    <p>This section would contain sample entry requirements for different courses, including A-level points and GCSE requirements.</p>
                </div>
            </div>

            <div id="phone-capacity" class="content-section">
                <div class="placeholder-notice">
                    <h3>📞 Phone Line Capacity</h3>
                    <p>This section would contain information about phone line capacity and expected wait times throughout the day.</p>
                </div>
            </div>

            <div id="phonetic-alphabet" class="content-section">
                <div class="placeholder-notice">
                    <h3>🔤 Phonetic Alphabet</h3>
                    <p>This section would contain the NATO phonetic alphabet for clear communication during poor audio quality calls.</p>
                </div>
            </div>

            <div id="timeline" class="content-section">
                <div class="placeholder-notice">
                    <h3>📅 Timeline & Embargo</h3>
                    <p>This section would contain the clearing timeline and embargo periods when communication with offer holders is restricted.</p>
                </div>
            </div>

            <div id="quick-start" class="content-section">
                <div class="placeholder-notice">
                    <h3>🚀 Quick-Start Checklist</h3>
                    <p>This section would contain a checklist of things to do before starting a clearing shift.</p>
                </div>
            </div>

            <div id="contacts" class="content-section">
                <div class="placeholder-notice">
                    <h3>👥 Contacts</h3>
                    <p>This section would contain all essential contact information for admissions, international team, clearing hub, and expert colleagues.</p>
                </div>
            </div>

            <div id="useful-links" class="content-section">
                <div class="placeholder-notice">
                    <h3>🔗 Useful Links</h3>
                    <p>This section would contain links to staff forms, training materials, UCAS tariff guides, and Webex user guides.</p>
                </div>
            </div>
        </main>
    </div>

    <script>
        class ClearingToolDemo {
            constructor() {
                this.initializeSettings();
                this.attachEventListeners();
                this.setupNavigation();
                this.loadUserPreferences();
            }

            initializeSettings() {
                this.settings = {
                    theme: 'light',
                    fontSize: 'normal'
                };
                
                this.sections = [
                    'notice', 'what-is-clearing', 'key-terminology', 'decision-tree', 'high-level-flow',
                    'call-checklist', 'ucas-referral', 'applicant-scenarios', 'advanced-entry',
                    'entry-requirements', 'phone-capacity', 'phonetic-alphabet',
                    'timeline', 'quick-start', 'contacts', 'useful-links'
                ];
            }

            attachEventListeners() {
                // Dark mode toggle
                document.getElementById('dark-mode-toggle').addEventListener('click', () => {
                    this.toggleDarkMode();
                });

                // Font size controls
                document.getElementById('font-size-small').addEventListener('click', () => {
                    this.setFontSize('small');
                });
                document.getElementById('font-size-normal').addEventListener('click', () => {
                    this.setFontSize('normal');
                });
                document.getElementById('font-size-large').addEventListener('click', () => {
                    this.setFontSize('large');
                });
                document.getElementById('font-size-xl').addEventListener('click', () => {
                    this.setFontSize('xl');
                });

                // Reset settings
                document.getElementById('reset-settings').addEventListener('click', () => {
                    this.resetSettings();
                });

                // Mobile menu toggle
                document.getElementById('mobile-menu-toggle').addEventListener('click', () => {
                    this.toggleMobileMenu();
                });

                // Sidebar overlay click
                document.getElementById('sidebar-overlay').addEventListener('click', () => {
                    this.closeMobileMenu();
                });
            }

            toggleDarkMode() {
                this.settings.theme = this.settings.theme === 'light' ? 'dark' : 'light';
                this.applyTheme();
                this.saveUserPreferences();
            }

            setFontSize(size) {
                this.settings.fontSize = size;
                this.applyFontSize();
                this.updateFontSizeButtons();
                this.saveUserPreferences();
            }

            applyTheme() {
                document.documentElement.setAttribute('data-theme', this.settings.theme);
                const button = document.getElementById('dark-mode-toggle');
                button.textContent = this.settings.theme === 'dark' ? '☀️' : '🌙';
                button.setAttribute('aria-pressed', this.settings.theme === 'dark');
                button.classList.toggle('active', this.settings.theme === 'dark');
            }

            applyFontSize() {
                document.documentElement.setAttribute('data-font-size', this.settings.fontSize);
            }

            updateFontSizeButtons() {
                const buttons = ['font-size-small', 'font-size-normal', 'font-size-large', 'font-size-xl'];
                buttons.forEach(id => {
                    const button = document.getElementById(id);
                    const isActive = id.includes(this.settings.fontSize);
                    button.setAttribute('aria-pressed', isActive);
                    button.classList.toggle('active', isActive);
                });
            }

            resetSettings() {
                this.settings = {
                    theme: 'light',
                    fontSize: 'normal'
                };
                this.applyTheme();
                this.applyFontSize();
                this.updateFontSizeButtons();
                this.saveUserPreferences();
            }

            toggleMobileMenu() {
                const sidebar = document.getElementById('sidebar');
                const overlay = document.getElementById('sidebar-overlay');
                
                sidebar.classList.toggle('open');
                overlay.classList.toggle('active');
            }

            closeMobileMenu() {
                const sidebar = document.getElementById('sidebar');
                const overlay = document.getElementById('sidebar-overlay');
                
                sidebar.classList.remove('open');
                overlay.classList.remove('active');
            }

            saveUserPreferences() {
                try {
                    console.log('Settings would be saved:', this.settings);
                } catch (e) {
                    console.log('Settings cannot be persisted in this environment');
                }
            }

            loadUserPreferences() {
                try {
                    this.applyTheme();
                    this.applyFontSize();
                    this.updateFontSizeButtons();
                } catch (e) {
                    console.log('No saved settings found');
                }
            }

            setupNavigation() {
                const navItems = document.querySelectorAll('.nav-item');
                
                navItems.forEach(item => {
                    item.addEventListener('click', (e) => {
                        const section = e.target.dataset.section;
                        this.showSection(section);
                        this.closeMobileMenu();
                    });

                    item.addEventListener('keydown', (e) => {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            const section = e.target.dataset.section;
                            this.showSection(section);
                            this.closeMobileMenu();
                        }
                    });
                });
            }

            showSection(sectionId) {
                // Hide all sections
                this.sections.forEach(id => {
                    const section = document.getElementById(id);
                    if (section) {
                        section.classList.remove('active');
                    }
                });

                // Show target section
                const targetSection = document.getElementById(sectionId);
                if (targetSection) {
                    targetSection.classList.add('active');
                }

                // Update navigation
                document.querySelectorAll('.nav-item').forEach(item => {
                    item.classList.toggle('active', item.dataset.section === sectionId);
                });
            }
        }

        // Initialize the application
        let clearingTool;
        document.addEventListener('DOMContentLoaded', () => {
            clearingTool = new ClearingToolDemo();

            // Add keyboard navigation support
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Tab') {
                    document.body.classList.add('keyboard-navigation');
                }
            });

            document.addEventListener('mousedown', () => {
                document.body.classList.remove('keyboard-navigation');
            });

            // Screen reader announcement
            const announcement = document.createElement('div');
            announcement.setAttribute('aria-live', 'polite');
            announcement.setAttribute('aria-atomic', 'true');
            announcement.className = 'sr-only';
            announcement.textContent = 'MMU Clearing Reference Tool demo loaded. This is a preview of the tool framework.';
            document.body.appendChild(announcement);

            setTimeout(() => {
                if (announcement.parentNode) {
                    announcement.parentNode.removeChild(announcement);
                }
            }, 3000);
        });

        // Add keyboard navigation styles
        const keyboardStyles = document.createElement('style');
        keyboardStyles.textContent = `
            body.keyboard-navigation *:focus {
                outline: 3px solid var(--focus-color) !important;
                outline-offset: 2px !important;
            }
        `;
        document.head.appendChild(keyboardStyles);
    </script>
</body>
</html>